{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ceren\\\\OneDrive\\\\Masa\\xFCst\\xFC\\\\Projem\\\\movie-ui\\\\src\\\\components\\\\user\\\\UserPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { Container } from 'semantic-ui-react';\nimport ContractList from './ContractList';\nimport { useAuth } from '../context/AuthContext';\nimport { contractApi } from '../misc/ContractApi';\nimport { handleLogError } from '../misc/Helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction UserPage() {\n  _s();\n  const Auth = useAuth();\n  const user = Auth.getUser();\n  const isUser = user.data.rol[0] === 'USER';\n  const [contracts, setContracts] = useState([]);\n  const [contractTextSearch, setContractTextSearch] = useState('');\n  const [isContractsLoading, setIsContractsLoading] = useState(false);\n  useEffect(() => {\n    handleGetContracts();\n  }, []);\n  const handleInputChange = (e, {\n    name,\n    value\n  }) => {\n    if (name === 'contractTextSearch') {\n      setContractTextSearch(value);\n    }\n  };\n  const handleGetContracts = async () => {\n    setIsContractsLoading(true);\n    try {\n      const response = await contractApi.getContracts(user);\n      setContracts(response.data);\n    } catch (error) {\n      handleLogError(error);\n    } finally {\n      setIsContractsLoading(false);\n    }\n  };\n  const handleSearchContract = async () => {\n    try {\n      const response = await contractApi.getContracts(user, contractTextSearch);\n      const contracts = response.data;\n      setContracts(contracts);\n    } catch (error) {\n      handleLogError(error);\n      setContracts([]);\n    }\n  };\n  if (!isUser) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(ContractList, {\n      isContractsLoading: isContractsLoading,\n      contractTextSearch: contractTextSearch,\n      contracts: contracts,\n      handleInputChange: handleInputChange,\n      handleSearchContract: handleSearchContract\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(UserPage, \"f/MjvLsVFCXdbVAZw+gJusiEyJk=\", false, function () {\n  return [useAuth];\n});\n_c = UserPage;\nexport default UserPage;\nvar _c;\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["React","useEffect","useState","Navigate","Container","ContractList","useAuth","contractApi","handleLogError","jsxDEV","_jsxDEV","UserPage","_s","Auth","user","getUser","isUser","data","rol","contracts","setContracts","contractTextSearch","setContractTextSearch","isContractsLoading","setIsContractsLoading","handleGetContracts","handleInputChange","e","name","value","response","getContracts","error","handleSearchContract","to","fileName","_jsxFileName","lineNumber","columnNumber","children","_c","$RefreshReg$"],"sources":["C:/Users/ceren/OneDrive/Masaüstü/Projem/movie-ui/src/components/user/UserPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Navigate } from 'react-router-dom'\nimport { Container } from 'semantic-ui-react'\nimport ContractList from './ContractList'\nimport { useAuth } from '../context/AuthContext'\nimport { contractApi } from '../misc/ContractApi'\nimport { handleLogError } from '../misc/Helpers'\n\nfunction UserPage() {\n  const Auth = useAuth()\n  const user = Auth.getUser()\n  const isUser = user.data.rol[0] === 'USER'\n\n  const [contracts, setContracts] = useState([])\n  const [contractTextSearch, setContractTextSearch] = useState('')\n  const [isContractsLoading, setIsContractsLoading] = useState(false)\n\n  useEffect(() => {\n    handleGetContracts()\n  }, [])\n\n  const handleInputChange = (e, { name, value }) => {\n    if (name === 'contractTextSearch') {\n      setContractTextSearch(value)\n    }\n  }\n\n  const handleGetContracts = async () => {\n    setIsContractsLoading(true)\n    try {\n      const response = await contractApi.getContracts(user)\n      setContracts(response.data)\n    } catch (error) {\n      handleLogError(error)\n    } finally {\n      setIsContractsLoading(false)\n    }\n  }\n\n  const handleSearchContract = async () => {\n    try {\n      const response = await contractApi.getContracts(user, contractTextSearch)\n      const contracts = response.data\n      setContracts(contracts)\n    } catch (error) {\n      handleLogError(error)\n      setContracts([])\n    }\n  }\n\n  if (!isUser) {\n    return <Navigate to='/' />\n  }\n\n  return (\n    <Container>\n      <ContractList\n        isContractsLoading={isContractsLoading}\n        contractTextSearch={contractTextSearch}\n        contracts={contracts}\n        handleInputChange={handleInputChange}\n        handleSearchContract={handleSearchContract}\n      />\n    </Container>\n  )\n}\n\nexport default UserPage"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}